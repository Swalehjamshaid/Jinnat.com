# =========================================================
# FF Tech Website Audit SaaS – requirements.txt
# =========================================================
# Last reviewed: January 2026
# Target: FastAPI backend on Railway
# Focus: Website auditing (SEO, performance, security, links), WebSocket progress, PDF reports
# =========================================================

# ────────────────────────────────────────────────
# Core Web Framework & Server
# ────────────────────────────────────────────────
fastapi==0.115.6
uvicorn[standard]==0.32.1                  # development & production server
gunicorn==23.0.0                           # production WSGI server (used by Railway)
jinja2==3.1.5                              # templates (index.html)
python-multipart==0.0.20                   # form/file handling
websockets==14.1                           # WebSocket support

# Better JSON handling (faster, smaller memory)
orjson==3.10.15
ujson==5.10.0

# ────────────────────────────────────────────────
# Data Validation & Settings
# ────────────────────────────────────────────────
pydantic==2.10.4
pydantic-settings==2.7.0
python-dotenv==1.0.1

# ────────────────────────────────────────────────
# HTTP Clients & Networking
# ────────────────────────────────────────────────
httpx==0.28.1
requests==2.32.3
urllib3==2.3.0
certifi==2024.12.14

# ────────────────────────────────────────────────
# HTML Parsing & Content Analysis (very important for audit)
# ────────────────────────────────────────────────
beautifulsoup4==4.12.3
lxml==5.3.0                                # faster parser for bs4

# ────────────────────────────────────────────────
# Reporting – PDF Generation (critical for your current issue)
# ────────────────────────────────────────────────
reportlab==4.2.5                           # <<<< REQUIRED for PDF export – do NOT remove

# Optional reporting formats (uncomment if needed)
# python-pptx==1.0.2                       # PowerPoint export
# openpyxl==3.1.5                          # Excel export
# weasyprint==63.0                         # HTML → beautiful PDF (needs system libs)

# ────────────────────────────────────────────────
# [OPTIONAL] Advanced scraping / JS rendering
# ────────────────────────────────────────────────
# playwright==1.49.1                       # best for screenshots + JS-rendered pages
# pillow==10.4.0                           # image processing (thumbnails, etc.)

# ────────────────────────────────────────────────
# [OPTIONAL] Database (if you add user accounts, history, saved audits…)
# ────────────────────────────────────────────────
# sqlalchemy==2.0.36
# psycopg2-binary==2.9.10                  # PostgreSQL sync driver
# asyncpg==0.30.0                          # PostgreSQL async driver (preferred with FastAPI)
# alembic==1.14.1                          # migrations

# ────────────────────────────────────────────────
# [OPTIONAL] Caching / Rate Limiting / Background Tasks
# ────────────────────────────────────────────────
# redis==5.2.1                             # caching + rate-limit backend
# rq==2.1.0                                # simple background jobs (lighter than Celery)

# ────────────────────────────────────────────────
# [OPTIONAL] AI / Content Analysis Enhancement
# ────────────────────────────────────────────────
# google-generativeai==0.8.3               # Gemini for content quality / suggestions

# ────────────────────────────────────────────────
# Development & Quality (can be removed in pure production build if desired)
# ────────────────────────────────────────────────
# black==24.10.0
# ruff==0.8.4
# mypy==1.14.0
# pytest==8.3.4
# pytest-asyncio==0.25.2

# =========================================================
# Installation notes for Railway:
#   No --no-deps or --no-binary needed
#   ReportLab should install cleanly (pure Python + small C extensions)
#   If using Playwright → add build script: playwright install --with-deps
# =========================================================
