{% extends 'base.html' %}
{% block content %}
<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h3">Audit Result: {{ url }}</h1>
        <span class="badge badge-primary p-2" style="background-color: #0ea5e9;">Grade: {{ grade }}</span>
    </div>

    <div class="row mb-4">
        <div class="col-md-4">
            <div class="card shadow-sm p-3 mb-2 text-center">
                <h6>Overall Score</h6>
                <h2 class="text-primary">{{ overall_score }}%</h2>
            </div>
        </div>
        <div class="col-md-8">
            <div class="card shadow-sm p-3">
                <h6>Executive Summary</h6>
                <p class="small text-muted">{{ summary.executive_summary }}</p>
            </div>
        </div>
    </div>

    <div class="mt-5 p-5 bg-white rounded shadow-sm text-center border" style="border-top: 5px solid #2563eb !important;">
        <h3 class="h4 mb-3" style="color: #2563eb;">Download Your Certified Audit Report</h3>
        <p class="text-muted mb-4">This comprehensive 5-page analysis includes site health distribution, on-page intelligence, performance vitals, and your custom 90-day growth roadmap.</p>
        
        <a href="/api/reports/pdf/{{ id }}" class="btn btn-primary btn-lg px-5 shadow-lg" style="background-color: #2563eb; border: none; font-weight: bold;">
            <i class="fas fa-file-pdf mr-2"></i> DOWNLOAD 5-PAGE PDF REPORT
        </a>
        <div class="mt-3 small text-secondary">
            <i class="fas fa-certificate text-success mr-1"></i> Certified Executive-Ready Export by FF Tech
        </div>
    </div>

    <div class="mt-5">
        <h4 class="h5 mb-3">Category Breakdown</h4>
        <div class="row">
            {% for cat, score in category_scores.items() %}
            <div class="col-md-6 mb-3">
                <label class="small font-weight-bold text-uppercase">{{ cat }}</label>
                <div class="progress" style="height: 25px;">
                    <div class="progress-bar" role="progressbar" style="width: {{ score }}%; background-color: #0ea5e9;" aria-valuenow="{{ score }}" aria-valuemin="0" aria-valuemax="100">{{ score }}%</div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
